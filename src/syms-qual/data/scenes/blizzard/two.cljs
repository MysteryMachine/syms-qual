(ns syms-qual.data.scenes.blizzard.two
  (:require [carmen.util :as anim :refer [scoot fade-in fade-out]]
            [syms-qual.util :as util :refer [inc-transition]]))

(def data
  {[:party :sombra 0]
   [:miranda/dialogue
    ["Symmetra" [[:soldier76 :_grillDrinkNeutral (scoot 10 -80 1.5)] [:reaper :_reverseNeutral (scoot 9 -100 1.5)] [:lucio :_neutral (scoot -7 -80 1.5)] [:symmetra :_skeptical (scoot 7 -2 1.5)]]
     "Hmm, where could she be…"]
    ["Symmetra" [[:sombra :_camo (fade-in [-5 0] 1)] [:symmetra :_bewildered (scoot -2)]]
     "Oh. There you are."]
    ["Sombra" [[:sombra :_wave (scoot -5)] [:symmetra :_smile (scoot -2)]]
     "Hola. Some party, eh?"]
    ["Symmetra" [[:sombra :_neutral (scoot -5)] [:symmetra :_strainedSmile (scoot -2)]]
     "It’s something."]
    :transition :miranda/conditional
    [#(= (:points/sombra %) 3) [:-> [:party :sombra 1 :b]]
     :else                     [:-> [:party :sombra 1 :a]]]]

   [:party :sombra 1 :a]
   [:miranda/dialogue
    ["Sombra" [[:sombra :_self (scoot -5)] [:symmetra :_smile (scoot -2)]]
     "So, like congrats, or whatever. I just wanted to let you know, that as a graduation gift from me to you, I have officially uninstalled all of the bitcoin miners I had put in all of your turrets."]
    ["Symmetra" [[:sombra :_neutral (scoot -5)] [:symmetra :_explainWTF (scoot -2)]]
     "You what?"]
    ["Sombra" [[:sombra :_nostalgic (scoot -5)] [:symmetra :_WTF (scoot -2)]]
     "You’re welcome."]
    ["Pharah" [[:pharah :_helloAwkward (scoot -80 -10 1.5)] [:sombra :_neutral (scoot -5 -15 1.5)] [:symmetra :_smile (scoot -2 5 1.5)]]
     "Hey, Satya!"]
    ["Sombra" [[:pharah :_smile (scoot -10)] [:sombra :_whisper (scoot -15)] [:symmetra :_awkward (scoot 5)]]
     "So, since I uninstalled them from your turrets, I installed bitcoin miners in Pharah’s armor. Mum’s the word or else your miners are getting back on the blockchain."]
    ["Sombra" [[:pharah :_smile (scoot -10)] [:sombra :_camo (fade-out [-15 0] 1.5)] [:symmetra :_awkward (scoot 5)]]
     "Ok, bye, have a great day!"]
    :-> [:party :pharah 0]]

   [:party :sombra 1 :b]
   [:miranda/dialogue
    ["Sombra" [[:sombra :_explainCondescendSmile (scoot -5)] [:symmetra :_smile (scoot -2)]]
     "So not to be all sappy, but I got a gift for my favorite girl on her big day."]
    ["Symmetra" [[:sombra :_smile (scoot -5)] [:symmetra :_coy (scoot -2)]]
     "Oh, did you, now?"]
    ["Sombra" [[:sombra :_explain (scoot -5)] [:symmetra :_coy (scoot -2)]]
     "So, it’s super cheesy, but Gabe’s been teaching me how to sew."]
    ["Sombra" [[:symmetra :_laugh (scoot -2)] [:sombra :_puppet (scoot -5)]]
     "Which he immediately regretted because I made this."]
    ["Sombra" [[:sombra :_explainHand (scoot -5)] [:symmetra :_strainedSmile (scoot -2)]]
     "But I thought I’d put my skills to good use and make something for you."]
    :-> [:party :sombra 3]]

   [:party :sombra 3]
   [:miranda/characters
    [[[:gifts :_bear]]]
    :-> [:party :sombra 4]]

   [:party :sombra 4]
   [:miranda/dialogue
    [nil [[:gifts :_bear]]
     "You've received - SEÑORITA BEARINGTON'"]
    ["Sombra" [[:sombra :_flirty (scoot -5)] [:symmetra :_strainedSmile (scoot -2)]]
     "You looked so cute snuggling with Señor Bear Bear when you fell asleep last week I thought you could use one of your own to keep you company. At least while i’m not around, you know."]
    ["Symmetra" [[:sombra :_neutral (scoot -5)] [:symmetra :_coy (scoot -2)]]
     "Thank you Sombra, this is adorable. I will treasure her."]
    ["Pharah" [[:pharah :_helloAwkward (scoot -80 -10 1.5)] [:sombra :_neutral (scoot -5 -15 1.5)] [:symmetra :_smile (scoot -2 5 1.5)]]
     "Hey, Satya!"]
    ["Pharah" [[:pharah :_embarassed (scoot -10)] [:sombra :_neutral (scoot -15)] [:symmetra :_smile (scoot 5)]]
     "Oh, sorry I didn’t mean to intrude."]
    ["Sombra" [[:pharah :_smile (scoot -10)] [:sombra :_leanin (scoot -15)] [:symmetra :_smile (scoot 5)]]
     "No worries. I wouldn’t want to monopolize the life of the party. I was just about to leave anyway."]
    ["Sombra" [[:pharah :_smile (scoot -10)] [:sombra :_whisper (scoot -15)] [:symmetra :_awkward (scoot 5)]]
     "Also, I bought the materials for this bear with bitcoin miners I installed in Pharah’s armor? If you tell her, I’ll consider it a betrayal to our love."]
    ["Sombra" [[:pharah :_smile (scoot -10)] [:sombra :_camo (fade-out [-15 0] 1.5)] [:symmetra :_awkward (scoot 5)]]
     "Hasta!"]
    :-> [:party :pharah 0]]

   [:party :pharah 0]
   [:miranda/dialogue
    ["Pharah" [[:pharah :_embarassed (scoot -10)] [:symmetra :_awkward (scoot 5)]]
     "Wow, this armor is really running hot today! Must be a real scorcher out."]
    ["Symmetra" [[:pharah :_smile (scoot -10)] [:symmetra :_awkward (scoot 5)]]
     "..."]
    ["Symmetra" [[:pharah :_smile (scoot -10)] [:symmetra :_awkwardTalk (scoot 5)]]
     "Yes..."]
    :transition :miranda/conditional
    [#(= (:points/pharah %) 3) [:-> [:party :pharah 1]]
     :else                     [:-> [:party :pharah 2]]]]


   [:party :pharah 1]
   [:miranda/dialogue
    ["Pharah" [[:pharah :_determined (scoot -10)] [:symmetra :_smile (scoot 5)]]
     "So! Congratulations! I got you a present. Anyway, um, here."]
    :-> [:party :pharah 3]]

   [:party :pharah 3]
   [:miranda/characters
    [[[:gifts :_skates]]]
    :-> [:party :pharah 4]]

   [:party :pharah 4]
   [:miranda/dialogue
    [nil [[:gifts :_skates]]
     "You've received - STYLISH ROLLERSKATES"]
    ["Symmetra" [[:pharah :_smile (scoot -10)] [:symmetra :_bigSmile (scoot 5)]]
     "Thank you, Fareeha, they’re beautiful."]
    ["Pharah" [[:symmetra :_smile (scoot 5)] [:pharah :_explainEmbarassed (scoot -10)]]
     "I think there’s some sort of rink in the Jaina’s Magic Ice Castle section of the park if you wanna check it out later."]
    ["Ana" [[:pharah :_neutralBackBlush (scoot -10)] [:symmetra :_smile (scoot 5)]]
     "Fareeha!"]
    ["Symmetra" [[:pharah :_neutralBackBlush (scoot -10)] [:symmetra :_explainUncomfortable (scoot 5)]]
     "Is that your mother calling you?"]
    ["Pharah" [[:pharah :_embarassed (scoot -10)] [:symmetra :_strainedSmile (scoot 5)]]
     "Probably. I think Reinhardt must have gotten his power armor stuck in one of the turnstiles. He didn’t listen to my advice about turning sideways. I should go help them."]
    ["Symmetra" [[:pharah :_embarassedBack (scoot -10 -80 1.5)] [:symmetra :_helloWarm (scoot 5 0 1.5)]]
     "Good luck!"]
    :-> [:party :genji 0]]

   [:party :pharah 2]
   [:miranda/dialogue
    ["Pharah" [[:symmetra :_smile (scoot 5)] [:pharah :_explain (scoot -10)]]
     "So, um, congratulations!"]
    ["Symmetra" [[:pharah :_neutral (scoot -10)] [:symmetra :_explainUncomfortable (scoot 5)]]
     "Thank you! Heat issues aside, I must say I’m surprised they let you in here while wearing power armor."]
    ["Pharah" [[:pharah :_embarassed (scoot -10)] [:symmetra :_smile (scoot 5)]]
     "Truthfully, I just flew in. I think they’re too afraid to challenge the person who brazenly hopped the fence with rockets strapped to her."]
    ["Symmetra" [[:pharah :_smile (scoot -10)] [:symmetra :_sass (scoot 5)]]
     "How scandalous, Ms. Amari! I thought you were the law abiding type."]
    ["Ana" [[:pharah :_neutralBackBlush (scoot -10)] [:symmetra :_smile (scoot 5)]]
     "Fareeha!"]
    ["Symmetra" [[:pharah :_neutralBackBlush (scoot -10)] [:symmetra :_skeptical (scoot 5)]]
     "It seems your crimes have been discovered."]
    ["Pharah" [[:pharah :_embarassed (scoot -10)] [:symmetra :_smile (scoot 5)]]
     "Maybe. Actually I think it looks like Reinhardt got his power armor stuck in one of the turnstiles and they need help dislodging him. I should go."]
    ["Symmetra" [[:pharah :_embarassedBack (scoot -10 -80 1.5)] [:symmetra :_helloWarm (scoot 5 0 1.5)]]
     "Good luck!"]
    :-> [:party :genji 0]]

   [:party :genji 0]
   [:miranda/dialogue
    [nil [[:symmetra :_embarassed (scoot 0 -25 1.5)]]
     "You make your way to the restroom. You are calmly washing your hands, when, you hear a voice call out from the stalls."]
    ["???" [[:symmetra :_awkward (scoot -25)]]
     "Satya? I’d recognize those shoes anywhere!"]
    ["Symmetra" [[:symmetra :_awkwardTalk (scoot -25)]]
     "Um. Hello?"]
    ["???" [[:symmetra :_awkward (scoot -25)]]
     "Oh...my...god! Wait right there. It’s girl talk time."]
    ["Symmetra" [[:symmetra :_pointBack (scoot -25)]]
     "I will...wait outside?"]
    ["McCree" [[:genji :_neutral (scoot -80 25 1.5)] [:mccree :_wave (scoot -80 -8 1.5)] [:hanzo :_phoneTexting (scoot -80 -16 1.5)] [:symmetra :_embarassed (scoot -20 6 1.5)]]
     "Oh hey! It’s the lady of the hour! Congratulations!"]
    ["Hanzo" [[:genji :_neutral (scoot 25)] [:mccree :_neutral (scoot -8)] [:hanzo :_phoneTalk (scoot -16)] [:symmetra :_embarassed (scoot 6)]]
     "My compliments on your first steps towards relevance in this organization."]
    ["Genji" [[:symmetra :_embarassed (scoot 6)] [:genji :_explain (scoot 25)] [:mccree :_neutral (scoot -8)] [:hanzo :_phoneTexting (scoot -16)]]
     "Congratulations, Satya. Say, you wouldn’t know if Angela was still in there, would you?"]
    ["Symmetra" [[:genji :_neutral (scoot 25)] [:mccree :_neutral (scoot -8)] [:hanzo :_phoneTexting (scoot -16)] [:symmetra :_explainUncomfortable (scoot 6)]]
     "I, um... Heard a voice call out to me from the stalls..."]
    ["McCree" [[:genji :_neutral (scoot 25)] [:mccree :_leanIn (scoot -8)] [:hanzo :_phoneTexting (scoot -16)] [:symmetra :_awkward (scoot 6)]]
     "I recommend bolting, darling. She’s in an oversharing kind of mood lately and you do not want to get in the crossfire."]
    ["Symmetra" [[:genji :_neutral (scoot 25 -80 1.5)] [:mccree :_neutral (scoot -8 -80 1.5)] [:hanzo :_phoneTexting (scoot -16 -80 1.5)] [:symmetra :_embarassed (scoot 6 -25 1.5)]]
     "I will heed your advice and take my leave."]
    ["D.Va" [[:zenyatta :_neutral (scoot -80 5 1.5)] [:dva :_fingerGuns (scoot -80 -35 1.5)] [:symmetra :_embarassed (scoot -25 3 1.5)]]
     "SATYAAA! Congrats! You should come announce your good news live on my streem. I convinced short, tin, and handsome here to come on so obviously you should join us."]
    ["Zenyatta" [[:zenyatta :_excited (scoot 5)] [:dva :_neutralGum (scoot -35)] [:symmetra :_confused (scoot 3)]]
     "I am excited that your viewers wish to hear of the fantastic cyber properties of the experience of the Iris."]
    ["D.Va" [[:zenyatta :_confused (scoot 5)] [:dva :_handsHipsSmile (scoot -35)] [:symmetra :_confused (scoot 3)]]
     "YES. That is definitely why I invited you and not because the only things they have in the arcade here are skee ball and Azmodunk basketball."]
    ["Zenyatta" [[:zenyatta :_pointUp (scoot 5)] [:dva :_neutral (scoot -35)] [:symmetra :_confused (scoot 3)]]
     "Hana, I sense you may be teasing me. But it is true. I do have a way with balls."]
    ["D.Va" [[:zenyatta :_neutral (scoot 5)] [:dva :_attacked (scoot -35)] [:symmetra :_awkward (scoot 3)]]
     "We’re heading over to the arcade to cast soon. I better see you there, Satya! And you better buy some bits before showing up!"]
    ["Symmetra" [[:zenyatta :_neutral (scoot 5)] [:dva :_neutralGum (scoot -35)] [:symmetra :_awkwardTalk (scoot 3)]]
     "I'll see what I can do."]
    [nil [[:zenyatta :_neutral (scoot 5 -80 1.5)] [:dva :_neutralGum (scoot -35 -80 1.5)] [:symmetra :_awkward (scoot 3)]]
     "The intense volume of socialization has left you bit overwhelmed. You’ve paused for a breather when Junkrat approaches you."]
    :transition :miranda/conditional
    [#(= (:points/junkrat %) 3) [:-> [:party :junkrat 1]]
     :else                      [:-> [:party :junkrat 0]]]]})
