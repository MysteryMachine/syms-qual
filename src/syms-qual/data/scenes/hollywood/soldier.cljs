(ns syms-qual.data.scenes.hollywood.soldier
  (:require [carmen.util :as anim :refer [scoot fade-in move]]
            [syms-qual.util :as util :refer [inc-transition]]))

(def data
  {[:spawn :soldier 0]
   [:miranda/dialogue
    ["Soldier 76" [[:soldier76 :_armsCrossed (scoot -70 -10 1)] [:symmetra :_neutral (scoot 60 0 1)]]
     "I can’t believe Gabe and I ended up on the same team! This never happens. It feels so unnatural."]
    ["Symmetra" [[:soldier76 :_armsCrossed (scoot -10)] [:symmetra :_explain]]
     "I’m sure you’ll be able to find a way to overcome your differences for the sake of the team."]
    ["Soldier 76" [[:soldier76 :_pointUp (scoot -10)] [:symmetra :_neutral]]
     "I don’t play by the rules anymore. My objective is now singular. Hookie."]
    ["Symmetra" [[:soldier76 :_armsCrossed (scoot -10)] [:symmetra :_confused]]
     "What?"]
    ["Soldier 76" [[:soldier76 :_fistPalm (scoot -10)] [:symmetra :_neutral]]
     "Gabe always gave me crap for dragging him to all the tourist attractions whenever I came to visit him but now I can tank his win ratio and avoid having to listen to his incessant whining. "]
    ["Symmetra" [[:soldier76 :_armsCrossed (scoot -10)] [:symmetra :_skeptical]]
     "I thought you two had some weird \"give it your violent best\" pact going on.  "]
    ["Soldier 76" [[:soldier76 :_point (scoot -10)] [:symmetra :_awkward]]
     "Don’t mock my love, soldier. It’s fiery, hot, mysterious, and not our concern right now. I’m recruiting you. You’ve been drafted to ride the TMZ hover bus with me."]
    ["Symmetra" [[:soldier76 :_point (scoot -10)] [:symmetra :_awkwardTalk]]
     "Please don't touch me."]
    ["Soldier 76" [[:soldier76 :_handsHips (scoot -10)] [:symmetra :_awkward]]
     "We rendezvous by the Hollywood sign!"]
    ["Symmetra" [[:soldier76 :_handsHips (scoot -10)] [:symmetra :_frustratedConfused]]
     "Uh--"]
    ["Soldier 76" [[:soldier76 :_fistPalm (scoot -10)] [:symmetra :_frustratedConfused]]
     "And go to Ripley’s Believe It or Not! A quality, American, educational experience. "]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot -10 28 1)] [:reaper :_neutral (scoot -75 -15 1)]
               [:symmetra :_frustratedConfused (scoot 0 5 0.5)]]
     "This guy running his mouth about all that tourist crap again?"]
    ["Symmetra" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -15)]
                 [:symmetra :_explainUncomfortable (scoot 5)]]
     "Well--"]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_extra (scoot -15)]
               [:symmetra :_awkward (scoot 5)]]
     "Vacationing in LA is bullshit! I hate all people and they should get the hell out of my city. You wanna go on a real vacation you go to Indiana."]
    ["Symmetra" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -15)]
                 [:symmetra :_confused (scoot 5)]]
     "Where?"]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_point (scoot -15)]
               [:symmetra :_neutral (scoot 5)]]
     "Their corn is not a fucking joke. Those were the freshest tortillas I’ve ever made in my LIFE."]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_point-up (scoot -15)]
               [:symmetra :_neutral (scoot 5)]]
     "I slaughtered Jack’s mother’s garden, and made a pico de gallo so good, that I almost gave up my life of violence against people, to turn my wrath exclusively against plant based life forms."]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_explain (scoot -15)]
               [:symmetra :_neutral (scoot 5)]]
     "I invited Lucio to the next trip. He promises me that Brazilian cuisine has new and exciting ways to put corn on American staples."]
    ["Lucio" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -15 -5 1)]
              [:symmetra :_neutral (scoot 5)] [:lucio :_prayExplain (scoot -60 -10 1)]]
     "I will make you the best vegan X-Tudo you’ve ever had in your LIFE."]
    ["Reaper" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_explain (scoot -5)]
               [:symmetra :_neutral (scoot 5)] [:lucio :_prayExplainNeutral (scoot -10)]]
     "I know what your filthy uncultured senses are saying. Corn, on a burger? I agree. It's an abomination. But it also tastes so right."]
    ["Sombra" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -5)]
               [:symmetra :_awkward (scoot 5)] [:lucio :_neutral (scoot -10)]
               [:sombra :_explainCondescend (fade-in [18 0] 1)]]
     "It’s not a X-Tudo without meat, Lucio. The word “tudo” means everything, and you can’t say it has everything if it doesn’t have meat."]
    ["Lucio" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -5)]
              [:symmetra :_awkward (scoot 5)] [:lucio :_weeping (scoot -10)]
              [:sombra :_neutral (scoot 18)]]
     "Look, the tudo refers to food, and animals are not food, they are friends."]
    ["Efi" [[:soldier76 :_armsCrossedReverse (scoot 28)] [:reaper :_neutral (scoot -5)]
            [:symmetra :_awkward (scoot 5)] [:lucio :_weeping (scoot -10)]
            [:sombra :_neutral (scoot 18 25 0.6 0.6)] [:efi :_armsUpBall (move [0 100] [0 0] 0.6)]]
     "It’s true! Lucio’s vegan X-Tudo is everything one would need in a meal, as advertised."]
    ["Soldier 76" [[:reaper :_neutral (scoot -5 -30 1 1.5)] [:soldier76 :_handUpReversed (scoot 28)]
                   [:symmetra :_awkward (scoot 5)] [:lucio :_weeping (scoot -10 -100 2 1)]
                   [:sombra :_neutral (scoot 25 -75 2 1)] [:efi :_armsUpBall (scoot 0 -100 2 1)]]
     "Alright, alright. It’s time for everyone to disperse, you’re crowding my recruit and I."]
    ["Reaper" [[:reaper :_whisper (scoot -30)] [:soldier76 :_armsCrossedReverse (scoot 28)]
               [:symmetra :_neutral (scoot 5)]]
     "Between you and me, geometry girl, I’m only in it for putting corn on pizza."]
    ["Soldier 76" [[:reaper :_whisper (scoot -30)] [:soldier76 :_handUpReversed (scoot 28)]
                   [:symmetra :_neutral (scoot 5)]]
     "You. The smokey one with the hot lips. Scram. I'm having a--"]
    ["Symmetra" [[:reaper :_neutral (scoot -33 -15 1)] [:soldier76 :_armsCrossedReverse (scoot 28 50 1)]
                 [:symmetra :_explain (scoot 5 -14 1)]]
     "Could you not do that yourself?"]
    ["Reaper" [[:reaper :_explain (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_confused (scoot -14)]]
     "And ruin the authenticity? No thank you."]
    ["Symmetra" [[:reaper :_neutral (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
                 [:symmetra :_explainWTF (scoot -14)]]
     "It’s not like there is any finesse involved with adding corn to a pizza."]
    ["Soldier 76" [[:reaper :_neutral (scoot -15)] [:soldier76 :_pointUpReversed (scoot 50)]
                [:symmetra :_neutral (scoot -14)]]
     "So about this great vacation opp--"]
    ["Reaper" [[:reaper :_point-up (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_neutral (scoot -14)]]
     "Look. Once, while on the crapper, I grabbed a cooking magazine Genji left on the stand and attempted to make Japanese pizza with corn and mayo. Let’s just say it was a colossal failure and those are dark times I’ve put behind me."]
    ["Symmetra" [[:reaper :_neutral (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
                 [:symmetra :_frustrated (scoot -14)]]
     "You are a strange and confusing man."]
    ["Reaper" [[:reaper :_phoneCheck (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_neutral (scoot -14)]]
     "With wonderful vacation photos. Dear unholy gods, I love my vacation photos. Here. Tell me you’ve not had a corn based revelation."]
    :-> [:spawn :soldier :cutscene 0]]

   [:spawn :soldier :cutscene 0]
   [:miranda/characters
    [[[:photos :_indiana] [:phones :_reaperHand]]]
    :-> [:spawn :soldier :option 0]]

   [:spawn :soldier :option 0]
   [:miranda/option
    "Symmetra" [[:photos :_indiana] [:phones :_reaperHand]]
    "Um. I suppose I have?"
    "What is that object behind you?"]

   [:spawn :soldier :option 0 0]
   [:miranda/dialogue
    ["Reaper" [[:photos :_indiana] [:phones :_reaperHand]]
     "I’m glad you’ve come to see things my way. The right way. I’ll invite you instead of Widowmaker to our next trip."]
    ["Reaper" [[:photos :_indiana] [:phones :_reaperHand]]
     "Her palette had her eyeing the snails on the ground with more gusto than the big, ripe, American corn growing to the heavens."]
    :-> [:spawn :soldier 1]]

   [:spawn :soldier :option 0 1]
   [:miranda/dialogue
    ["Reaper" [[:photos :_indiana] [:phones :_reaperHand]]
     "Oh, well, we made Widow take the photo, but she wanted to be in it too and we tried to have her do it as a selfie"]
    ["Reaper" [[:photos :_indiana] [:phones :_reaperHand]]
     "--but she’s really bad at it and it didn’t work so we decided to compromise and just stick her rifle in the corn so it’d be like she was in the picture, even though she wasn’t really in the picture."]
    :-> [:spawn :soldier 1]]

   [:spawn :soldier 1]
   [:miranda/dialogue
    ["Symmetra" [[:reaper :_neutral (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
                 [:symmetra :_explainWTF (scoot -14)]]
     "That’s actually quite insulting."]
    ["Reaper" [[:reaper :_extra (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_WTF(scoot -14)]]
     "The woman has no feelings. You can’t hurt something that does not exist, Symmetra. Rule number one of combat."]
    ["Reaper" [[:reaper :_phoneCheck (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_neutral (scoot -14)]]
     "Oh, wait, I’m getting a message."]
    ["Soldier 76" [[:reaper :_phoneCheck (scoot -15)] [:soldier76 :_pointUpReversed (scoot 50)]
                [:symmetra :_neutral (scoot -14)]]
     "Gabe. Please. She's my only shot."]
    ["Reaper" [[:reaper :_neutral (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_neutral (scoot -14)]]
     "Nevermind. It’s just a shitty photoshop of Widowmaker flipping off corn. Fucking Sombra."]
    ["Soldier 76" [[:reaper :_neutral (scoot -15)] [:soldier76 :_pointUpReversed (scoot 50)]
                   [:symmetra :_neutral (scoot -14)]]
     "The bus is leaving soon. My dreams are almost dead, Gabe. Please."]
    ["Reaper" [[:reaper :_extra (scoot -15)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_WTF(scoot -14)]]
     "If you let that man take a picture of you in front the Beverly Hills sign you are dead to me, architecture sorceress!"]
    ["Reaper" [[:reaper :_leave (scoot -15 -100 2)] [:soldier76 :_armsCrossedReverse (scoot 50)]
               [:symmetra :_awkward (scoot -14)]]
     "Fuck you, Jack."]
    ["Soldier 76" [[:soldier76 :_armsCrossedReverse (scoot 50 -10 1)]
                   [:symmetra :_neutral (scoot -14 -4 1)]]
     "He's gone. We need to hurry. I’ll pay for your bus ticket if you come with me."]
    ["Symmetra" [[:soldier76 :_armsCrossed (scoot -10)]
                 [:symmetra :_noUncomfortable (scoot -4)]]
     "I really don’t--"]
    ["Soldier 76" [[:soldier76 :_fistPalm (scoot -10)] [:symmetra :_noUncomfortable (scoot -4)]]
     "And I’ll buy you dinner at Benihanas."]
    :-> [:spawn :soldier :choice]]

   [:spawn :soldier :choice]
   [:miranda/text-option
    "What will you do?"
    ["Do tourism the American way" (constantly true)
     [:-> [:spawn :soldier :yes]]]
    ["Converse with your other teammates" (constantly true)
     [:-> [:spawn :soldier :no]]]]

   [:spawn :soldier :yes]
   [:miranda/dialogue
    ["Symmetra" [[:soldier76 :_armsCrossed (scoot -10)] [:symmetra :_frustratedConfused (scoot -4)]]
     "I can’t say no to free really, really terrible food."]
    ["Soldier 76"  [[:soldier76 :_pointUp (scoot -10)] [:symmetra :_frustratedConfused (scoot -4)]]
     "Has anyone ever told you your attitude is very unamerican? Get a grip, soldier."]
    :-> [:soldier]]

   [:spawn :soldier :no]
   [:miranda/dialogue
    ["Symmetra" [[:soldier76 :_fistPalm (scoot -10)] [:symmetra :_pointBack (scoot -4 10 1)]]
     "I really should be getting back to the rest of the team."]
    ["Soldier 76" [[:soldier76 :_point (scoot -10)] [:symmetra :_frustratedConfused (scoot 10)]]
     "The offer still stands. You’re the only person on this team I feel I can trick into going with me, so don’t go proving me wrong now."]
    :-> [:spawn :choice]]

   [:soldier]
   [:miranda/characters
    [[]]
    :-> [:soldier :text]]

   [:soldier :text]
   [:miranda/narration
    "Despite Soldier’s promises to the contrary, the distance from spawn to the stop for the TMZ bus proved to be quite a formidable trek on foot. Upon arrival, you attempted board only to be turned away due to Morrison’s stubborn insistence on open-carrying his plasma rifle and rockets."
    "Between the heat, the long walk and the loudly droning argument between Soldier and the bus driver, your mind began to wander, as you feverishly hoped that watching a man light your dinner on fire in front of you would ultimately make up for this thus far dismal experience. As you contemplated the sequence of terrible decisions which had lead your life to this point, you were snapped back to reality by the roar of the departing, bus followed shortly by the loud buzzing of Soldier’s phone."
    :-> [:soldier :photo 2]]

   [:soldier :photo 2]
   [:miranda/characters
    [[[:photos :_guyFieri] [:phones :_soldierHand]]]
    :-> [:soldier :finale]]

   [:soldier :finale]
   [:miranda/dialogue
    [nil [[:photos :_guyFieri] [:phones :_soldierHand]]
     "It was a Snapchat ostensibly from Reaper, though Sombra seemed to be operating the camera judging by the prominent sound of her wild giggling."]
    [nil [[:photos :_guyFieri] [:phones :_soldierHand]]
     " The shaky footage revealed both Reaper and Guy Fieri standing on top of the payload mooning the camera while simultaneously flipping it off and chanting in unison, \"Fuck you Morrison!\""]
    [nil [[:photos :_guyFieri] [:phones :_soldierHand]]
     "After taking minute to compose himself, Soldier sadly informed you that without the bus you had no easy way of making it to Benihanas but offered to treat you to the nearby Panda Express Express instead."]
    [nil [[:photos :_guyFieri] [:phones :_soldierHand]]
     "You firmly, but politely declined, and left without making eye contact."]
    :=> [:lijiang [:spawn :intro] 0]]})
